---
title: "ä»£ç å¸®æˆ‘ç”»åƒç´ ç”»"
date: 2021/02/25
slug: pixel
tags:
  - å‰ç«¯
publish: true
description: ç”¨ä»£ç å¸®æˆ‘ç”»åƒç´ ç”»
---
è¿™ä¸€é˜µå­è¿·ä¸Šäº†åƒç´ é£æ ¼ï¼Œå¾ˆæœ‰å¤å¤çš„å‘³é“ï¼ŒåŠ ä¸Šå°æ—¶å€™ç©å®å¯æ¢¦çš„æ—¶å€™è¿˜æ˜¯åƒç´ é£æ ¼ï¼Œç‰µæ‰¯å‡ºäº†å¤ªå¤šæƒ…æ€€ã€‚  
ç”šè‡³æŠŠè‡ªå·±çš„ç”µè„‘å£çº¸ä¹Ÿæ¢æˆäº†åƒç´ é£ã€‚å¾ˆæœ‰æ„Ÿè§‰ğŸ˜


![](/postImg/pixel/desktop.png)

æƒ³è‡ªå·±åœ¨åƒç´ é£ä¸Šåˆ›ä½œï¼Œä½†æ˜¯æ„Ÿè§‰è‡ªå·±æ˜¯æ²¡æœ‰é‚£ç§è‰ºæœ¯ç»†èƒâ€¦â€¦æ‰€ä»¥å°±åœ¨æƒ³ï¼Œèƒ½ä¸èƒ½è‡ªå·±æŠŠä¸€å¼ æ­£å¸¸çš„å›¾ç‰‡è½¬æ¢æˆåƒç´ é£ï¼ŸğŸ¤”

# æ€è·¯â­
1. ä½¿ç”¨canvaså°†å›¾ç‰‡ç¼©å°ï¼Œä½¿å…¶ä¸¢å¤±éƒ¨åˆ†åƒç´ ä¿¡æ¯
2. å†å°†ç¼©å°çš„å›¾ç‰‡ç»˜åˆ¶å‡ºæ¥
3. å°†ç¼©å°çš„å›¾ç‰‡æ”¾å¤§ï¼Œä½¿èƒ½çœ‹åˆ°å…¶åƒç´ ç‚¹

å…¶å®å°±æ˜¯å°çš„å›¾ç‰‡æ”¾å¤§ï¼Œä¼šæ„Ÿè§‰åˆ°ç³Šçš„æ•ˆæœã€‚

# CodeğŸ’»
ç¦æ­¢æµè§ˆå™¨çš„å¹³æ»‘å¤„ç†å…¶å®å°±æ˜¯æ˜¯å¦æŠ—é”¯é½¿ã€‚  
ç”¨æ­£åˆ™è¡¨è¾¾å¼é™åˆ¶è¾“å…¥æ¡†åªèƒ½è¾“å…¥0-100ï¼Œæ„å‘³ç€è®©å›¾ç‰‡ç¼©æ”¾çš„ç™¾åˆ†æ¯”ï¼ˆ100å°±æ˜¯æ²¡æœ‰ç¼©æ”¾ï¼Œè¾¾ä¸åˆ°åƒç´ åŒ–çš„æ•ˆæœï¼‰
```js
const pixel =  (canvas, image, scale)=> {
    scale *= 0.01;
    
    canvas.width = image.width;
    canvas.height = image.height;

    // å°†å›¾ç‰‡ç¼©å°
    let scaledW = canvas.width * scale;
    let scaledH = canvas.height * scale;

    let ctx = canvas.getContext('2d');
  
    // ç¦æ­¢æµè§ˆå™¨çš„å¹³æ»‘å¤„ç†
    ctx.imageSmoothingEnabled = false;
    ctx.mozImageSmoothingEnabled = false;
    ctx.webkitImageSmoothingEnabled = false;
    ctx.msImageSmoothingEnabled = false;

    //å°†ç¼©å°åçš„å›¾ç‰‡ç»˜åˆ¶å‡ºæ¥
    ctx.drawImage(image, 0, 0, scaledW, scaledH);
    //å°†ç¼©å°åçš„å›¾ç‰‡è¿˜åŸåˆ°åŸæ¥çš„å¤§å°
    ctx.drawImage(canvas, 0, 0, scaledW, scaledH, 0, 0, canvas.width, canvas.height);
  };


btn.addEventListener('click', function(){
  const Regex = new RegExp(/^100$|^(\d|[1-9]\d)(\.\d+)*$/)
  let scale = input.value;
  if(scale==''){
    scale = 40;
  }
  if(!Regex.test(scale)){
    window.alert('è¾“å…¥ä¸è§„èŒƒ')
    return;
  }
  console.log(scale);
  pixel(canvas,img,scale);
}, false);
```
# æ•ˆæœğŸ‘‡
![](/postImg/pixel/eg.png)
